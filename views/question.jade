extends layout

block content
  h1= title
  p Welcome to #{title}
  div.newQuestion
    form(action='/newQuestion',method='post')
      div(data-role='fieldcontain')
        fieldset(data-role='controlgroup')
          label(for='question') question
             input(id='question',type='text',value='',placeholder='?',name='question')
        button#reset.btn.btn-primary(type="submit") Create  new question
  hr
  div.allQuestions
    div.list-group
      h2 Les derni√®res questions
      each question in questions
        a.list-group-item(href!="/question/"+question.id, id!=question.id)
          span.badge.success.yes= (question.results ? (question.results.yes || 0) : 0) || 0
          span.badge.danger.no= (question.results ? (question.results.no || 0) : 0) || 0
          = question.text
          div.progress
            div.progress-bar.progress-bar-success(style!="width:"+(Math.round((100. * question.results.yes/(question.results.yes + question.results.no))))+'%')
              span.sr-only Oui
            div.progress-bar.progress-bar-danger(style!="width:"+(Math.round((100. * question.results.no/(question.results.yes + question.results.no))))+ '%')
              span.sr-only Non
      script.
        